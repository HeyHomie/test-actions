name: Java gradle build
description: Java gradle build
inputs:
  java-version:
    description: java version
    required: false
    default: 17
  java-distribution:
    description: java distribution
    required: true
    default: adopt
  gradle-wrapper-path:
    description: gradle wrapper executable path
    required: false
    default: ./gradlew
  gradle-build-command:
    description: gradle build command
    required: false
    default: assemble
runs:
  using: composite
  steps:
  - name: Set up JDK ${{ inputs.java-version }}
    uses: actions/setup-java@v3.3.0
    with:
      java-version: ${{ inputs.java-version }}
      distribution: ${{ inputs.java-distribution }}
      cache: gradle
      check-latest: true
  - name: Gradle Wrapper Validation
    uses: gradle/wrapper-validation-action@v1.0.4
  - name: Setup Gradle
    uses: gradle/gradle-build-action@v2.2.0
  - name: Make gradlew executable
    shell: bash
    run: chmod +x ${{ inputs.gradle-wrapper-path }}
  - name: Execute Gradle build with wrapper
    shell: bash
    run: ${{ inputs.gradle-wrapper-path }} ${{ inputs.gradle-build-command }}